<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç Telegram API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #45a049;
        }
        .log {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 14px;
        }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
        .info { color: #2196F3; }
        input {
            width: 300px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ –¢–µ—Å—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h1>
        
        <div>
            <h3>1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Chat ID</h3>
            <label>
                Chat ID: 
                <input type="text" id="chatIdInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Chat ID" value="">
            </label>
            <button onclick="setChatId()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Chat ID</button>
        </div>

        <div>
            <h3>2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h3>
            <button onclick="testApiConnection()">–¢–µ—Å—Ç API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</button>
            <button onclick="testTokenRetrieval()">–ü–æ–ª—É—á–∏—Ç—å Bot Token</button>
            <button onclick="sendTestMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
        </div>

        <div>
            <h3>3. –≠–º—É–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏–π</h3>
            <button onclick="simulateBlogClick()">–≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–∫ "–ë–ª–æ–≥"</button>
            <button onclick="simulateEasterEggActivation()">–≠–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–∞—Ü–∏—é –ø–∞—Å—Ö–∞–ª–∫–∏</button>
        </div>

        <div id="log" class="log">
            <div class="info">üìã –õ–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>
        </div>

        <div>
            <h3>4. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h3>
            <ol>
                <li>–ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à Chat ID –æ—Ç –±–æ—Ç–∞ @userinfobot –≤ Telegram</li>
                <li>–í–≤–µ–¥–∏—Ç–µ Chat ID –≤ –ø–æ–ª–µ –≤—ã—à–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Chat ID"</li>
                <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–æ –ø–æ—Ä—è–¥–∫—É</li>
                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</li>
            </ol>
            
            <h4>üìù –ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Å—Ö–∞–ª–∫—É –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ:</h4>
            <ol>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç (index.html)</li>
                <li>–ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã (üåô/‚òÄÔ∏è) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É</li>
                <li>–ë—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –Ω–µ–º—É <strong>5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥</strong></li>
                <li>–û—Ç–∫—Ä–æ–µ—Ç—Å—è –∏–≥—Ä–∞-–ø–∞—Å—Ö–∞–ª–∫–∞!</li>
                <li>–í Telegram –ø—Ä–∏–¥–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ ü•ö</li>
            </ol>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const CONFIG = {
            apiEndpoint: 'https://skhlebnikov.ru/api/get-telegram-key',
            chatId: null,
            botToken: null
        };

        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const className = type;
            logDiv.innerHTML += `<div class="${className}">[${timestamp}] ${message}</div>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Chat ID
        function setChatId() {
            const chatId = document.getElementById('chatIdInput').value.trim();
            if (chatId) {
                CONFIG.chatId = chatId;
                log(`‚úÖ Chat ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${chatId}`, 'success');
            } else {
                log('‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Chat ID', 'error');
            }
        }

        // –¢–µ—Å—Ç API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        async function testApiConnection() {
            log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API...', 'info');
            
            try {
                const response = await fetch(CONFIG.apiEndpoint);
                log(`üì° –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞: ${response.status} ${response.statusText}`, 
                    response.ok ? 'success' : 'error');
                
                if (response.ok) {
                    const text = await response.text();
                    log(`üìÑ –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞: ${text}`, 'info');
                } else {
                    log('‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: ${error.message}`, 'error');
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ Bot Token
        async function testTokenRetrieval() {
            log('üîë –ü–æ–ª—É—á–∞–µ–º Bot Token...', 'info');
            
            try {
                const response = await fetch(CONFIG.apiEndpoint);
                
                if (!response.ok) {
                    log(`‚ùå –û—à–∏–±–∫–∞ API: ${response.status}`, 'error');
                    return;
                }

                const data = await response.json();
                log(`üìã –î–∞–Ω–Ω—ã–µ –æ—Ç API: ${JSON.stringify(data)}`, 'info');
                
                if (data.apiKey) {
                    CONFIG.botToken = data.apiKey;
                    const maskedToken = data.apiKey.substring(0, 10) + '...' + data.apiKey.substring(data.apiKey.length - 10);
                    log(`‚úÖ Bot Token –ø–æ–ª—É—á–µ–Ω: ${maskedToken}`, 'success');
                } else {
                    log('‚ùå API –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –æ—Ç–≤–µ—Ç–µ', 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
        async function sendTestMessage() {
            if (!CONFIG.botToken) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ Bot Token', 'error');
                return;
            }

            if (!CONFIG.chatId) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Chat ID', 'error');
                return;
            }

            log('üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...', 'info');

            const message = `üß™ <b>–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</b>\n\n` +
                           `‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n` +
                           `üïê –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\n` +
                           `üåê –¢–µ—Å—Ç —Å: ${window.location.href}`;

            const url = `https://api.telegram.org/bot${CONFIG.botToken}/sendMessage`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CONFIG.chatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                if (response.ok) {
                    log('‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!', 'success');
                    log('üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram', 'info');
                } else {
                    const error = await response.json();
                    log(`‚ùå –û—à–∏–±–∫–∞ Telegram API: ${JSON.stringify(error)}`, 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}`, 'error');
            }
        }

        // –≠–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ "–ë–ª–æ–≥"
        async function simulateBlogClick() {
            if (!CONFIG.botToken) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ Bot Token', 'error');
                return;
            }

            if (!CONFIG.chatId) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Chat ID', 'error');
                return;
            }

            log('üìù –≠–º—É–ª–∏—Ä—É–µ–º –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ "–ë–ª–æ–≥"...', 'info');

            const message = `üîî <b>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Å–∞–π—Ç–∞</b>\n\n` +
                           `üìù –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –Ω–∞ –∫–Ω–æ–ø–∫—É "–ë–ª–æ–≥"\n` +
                           `üïê –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\n` +
                           `üåê URL: ${window.location.href}\n` +
                           `üì± –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${screen.width}x${screen.height}\n` +
                           `üß™ –†–µ–∂–∏–º: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n` +
                           `üë§ –ë—Ä–∞—É–∑–µ—Ä: ${navigator.userAgent.substring(0, 50)}...`;

            const url = `https://api.telegram.org/bot${CONFIG.botToken}/sendMessage`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CONFIG.chatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                if (response.ok) {
                    log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–ª–∏–∫–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!', 'success');
                    log('üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram', 'info');
                } else {
                    const error = await response.json();
                    log(`‚ùå –û—à–∏–±–∫–∞ Telegram API: ${JSON.stringify(error)}`, 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}`, 'error');
            }
        }

        // –≠–º—É–ª—è—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Å—Ö–∞–ª–∫–∏
        async function simulateEasterEggActivation() {
            if (!CONFIG.botToken) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ Bot Token', 'error');
                return;
            }

            if (!CONFIG.chatId) {
                log('‚ùå –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Chat ID', 'error');
                return;
            }

            log('ü•ö –≠–º—É–ª–∏—Ä—É–µ–º –∞–∫—Ç–∏–≤–∞—Ü–∏—é –ø–∞—Å—Ö–∞–ª–∫–∏...', 'info');

            const message = `ü•ö <b>–ü–ê–°–•–ê–õ–ö–ê –ù–ê–ô–î–ï–ù–ê!</b>\n\n` +
                           `üéâ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª –ø–∞—Å—Ö–∞–ª–∫—É –Ω–∞ —Å–∞–π—Ç–µ!\n` +
                           `üïê –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\n` +
                           `üåê URL: ${window.location.href}\n` +
                           `üì± –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${screen.width}x${screen.height}\n` +
                           `üîó –û—Ç–∫—É–¥–∞ –ø—Ä–∏—à–µ–ª: –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\n` +
                           `üéÆ –°–ø–æ—Å–æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: 5 –∫–ª–∏–∫–æ–≤ –ø–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—é —Ç–µ–º—ã\n` +
                           `üí° –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç!\n` +
                           `üß™ –†–µ–∂–∏–º: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n` +
                           `üë§ –ë—Ä–∞—É–∑–µ—Ä: ${navigator.userAgent.substring(0, 50)}...`;

            const url = `https://api.telegram.org/bot${CONFIG.botToken}/sendMessage`;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: CONFIG.chatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                if (response.ok) {
                    log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–∞—Å—Ö–∞–ª–∫–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!', 'success');
                    log('ü•ö –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ —è–π—Ü–∞', 'info');
                } else {
                    const error = await response.json();
                    log(`‚ùå –û—à–∏–±–∫–∞ Telegram API: ${JSON.stringify(error)}`, 'error');
                }
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}`, 'error');
            }
        }

        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.addEventListener('load', function() {
            log('üöÄ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'success');
            log('üí° –ù–∞—á–Ω–∏—Ç–µ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Chat ID', 'info');
        });
    </script>
</body>
</html>
